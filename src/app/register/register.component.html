<div class="signup-form">
  <form [formGroup]="registerForm" (ngSubmit)="formSubmit()">
    <h2>Sign Up</h2>
    <p>Already have an account?
      <a routerLink="/login">Login here</a></p>
    <hr>
    <div *ngIf="errorMssg" class="alert alert-danger" role="alert">
      {{errorMssg}}
    </div>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <span class="fa fa-user-circle"></span>
          </span>
        </div>
        <input
          type="text"
          class="form-control"
          placeholder="username"
          formControlName="username"
          [ngClass]="{'is-invalid': registerForm.controls.username.touched && registerForm.controls.username.invalid}"
        >
        <div class="invalid-feedback">Username required!</div>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <i class="fa fa-envelope"></i>
          </span>
        </div>
        <input
          type="email"
          class="form-control"
          name="email"
          placeholder="email address"
          formControlName="email"
          [ngClass]="{'is-invalid': registerForm.controls.email.touched && registerForm.controls.email.invalid}"
        >
        <div class="invalid-feedback">
          <div *ngIf="registerForm.controls.email.errors && registerForm.controls.email.errors.required">Email required!</div>
          <div *ngIf="registerForm.controls.email.errors && registerForm.controls.email.errors.email">
            not a valid e-mail id!
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <i class="fa fa-lock"></i>
          </span>
        </div>
        <input
          type="password"
          class="form-control"
          name="confirm_password"
          placeholder="password"
          formControlName="password"
          [ngClass]="{'is-invalid': registerForm.controls.password.touched && registerForm.controls.password.invalid}"
        >
        <div class="invalid-feedback">
          <div *ngIf="registerForm.controls.password.errors && registerForm.controls.password.errors.required">Password required!</div>
          <div *ngIf="registerForm.controls.password.errors && registerForm.controls.password.errors.minlength">
            Password should have min 8 characters
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">
            <i class="fa fa-lock"></i>
            <i class="fa fa-check"></i>
          </span>
        </div>
        <input
          type="password"
          class="form-control"
          name="confirm_password"
          placeholder="confirm password"
          formControlName="conPassword"
          [ngClass]="{'is-invalid': registerForm.controls.conPassword.dirty && registerForm.errors}"
        >
        <div class="invalid-feedback">
          <div *ngIf="registerForm.errors && registerForm.errors.noMatch">
            Password's are not same!
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <button
        type="submit"
        class="btn btn-dark"
        [disabled]="!registerForm.valid"
      >Sign Up</button>
    </div>
  </form>
</div>
